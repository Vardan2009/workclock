import{r as l,c as i,a as s,h as d,g as f,d as g,t as _,w as b,u as w,R as h,v as p,q as x,m as y,o as v,e as V}from"./index-C0cmvDAF.js";import{a as k}from"./auth-Dij7fpF-.js";import"./api-Bys2i4Lb.js";const N={class:"flex",style:{margin:"10px"}},L={key:0,class:"danger"},R=["disabled"],B=["disabled"],U=["disabled"],S={__name:"LoginPage",setup(C){const o=l(""),r=l(""),t=l(null),c=y(),a=l(!1);async function m(){if(!a.value){t.value=null,a.value=!0;try{await k(o.value,r.value),c.push("/app")}catch(u){t.value=u.message}finally{a.value=!1}}}return(u,e)=>(v(),i("form",{onSubmit:x(m,["prevent"])},[e[3]||(e[3]=s("h1",null,"Log in",-1)),s("div",N,[t.value?(v(),i("p",L,_(t.value),1)):f("",!0),g(w(h),{to:"/app/register"},{default:b(()=>[...e[2]||(e[2]=[V("No account? Register",-1)])]),_:1})]),d(s("input",{disabled:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),placeholder:"Username"},null,8,R),[[p,o.value]]),d(s("input",{disabled:a.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),type:"password",placeholder:"Password"},null,8,B),[[p,r.value]]),s("button",{class:"full-width",disabled:a.value},"Login",8,U)],32))}};export{S as default};
