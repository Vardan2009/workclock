import{x as T,j as v,k as f,m as y,c as l,u as t,a as e,d as _,e as p,w as B,R as S,t as s,F as A,p as E,o as i}from"./index-C0cmvDAF.js";import{s as I}from"./tasks-DMoEtwJO.js";import{f as r}from"./util-BrY1QKZh.js";import"./api-Bys2i4Lb.js";const x={key:0},D={class:"italic title"},w={class:"stats"},L={key:0,class:"empty"},R={key:1},h={key:1},j={__name:"TaskDetailPage",setup(F){const c=y(),k=T(),g=parseInt(k.params.id),n=I.tasks.find(u=>u.id===g);v(()=>{document.addEventListener("keydown",d)}),f(()=>{document.removeEventListener("keydown",d)});const d=u=>{u.key==="Escape"&&c.push("/")};return(u,a)=>t(n)?(i(),l("div",x,[e("p",null,[_(t(S),{to:"/app"},{default:B(()=>[...a[0]||(a[0]=[p("Tasks",-1)])]),_:1}),p(" / "+s(t(n).title),1)]),e("h1",D,s(t(n).icon)+" "+s(t(n).title),1),e("div",w,[e("p",null," Avg. Estimated Time: "+s(t(r)(t(n).getAvgEstTime())),1),e("p",null," Avg. Actual Time: "+s(t(r)(t(n).getAvgRealTime())),1),e("p",null," Avg. Bias: "+s(t(r)(t(n).getAvgTimeBias()))+" ("+s(t(n).getAvgTimeBiasPercentage()?.toFixed(1))+"%) ",1),e("p",null,"Total Instances: "+s(t(n).taskInstances.length),1)]),a[2]||(a[2]=e("hr",null,null,-1)),a[3]||(a[3]=e("h3",null,"Task Instances",-1)),t(n).taskInstances.length===0?(i(),l("div",L,[...a[1]||(a[1]=[e("p",null,"No instances yet. Start tracking!",-1)])])):(i(),l("ul",R,[(i(!0),l(A,null,E(t(n).taskInstances,(o,m)=>(i(),l("li",{key:m,class:"instance"},[e("strong",null,"Instance "+s(m+1),1),e("p",null," Started: "+s(new Date(o.timestampStarted).toLocaleString()),1),e("p",null," Estimated: "+s(t(r)(o.estDurationSec)),1),e("p",null," Actual: "+s(t(r)(o.realDurationSec)),1),e("p",null," Bias: "+s(t(r)(o.getTimeBias()))+" ("+s((o.getTimeBias()/o.estDurationSec*100).toFixed(1))+"%) ",1)]))),128))]))])):(i(),l("div",h,[...a[4]||(a[4]=[e("p",null,"Task not found",-1)])]))}};export{j as default};
