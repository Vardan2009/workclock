import{r as l,c as i,a as s,l as d,k as f,f as g,t as _,w as b,u as w,R as h,v as p,m as x,x as y,o as c,g as k}from"./index-DhGHPcRP.js";import{r as R}from"./auth-JpeWmowT.js";import"./api-LW24cLYi.js";const V={class:"flex",style:{margin:"10px"}},N={key:0,class:"danger"},B=["disabled"],U=["disabled"],C=["disabled"],S={__name:"RegisterPage",setup(D){const o=l(""),r=l(""),t=l(null),v=y(),a=l(!1);async function m(){if(!a.value){t.value=null,a.value=!0;try{await R(o.value,r.value),v.push("/login")}catch(u){t.value=u.message}finally{a.value=!1}}}return(u,e)=>(c(),i("form",{onSubmit:x(m,["prevent"])},[e[3]||(e[3]=s("h1",null,"Register a new account",-1)),s("div",V,[t.value?(c(),i("p",N,_(t.value),1)):f("",!0),g(w(h),{to:"/login"},{default:b(()=>[...e[2]||(e[2]=[k("Already have an account? Log in",-1)])]),_:1})]),d(s("input",{disabled:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),placeholder:"Username"},null,8,B),[[p,o.value]]),d(s("input",{disabled:a.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),type:"password",placeholder:"Password"},null,8,U),[[p,r.value]]),s("button",{class:"full-width",disabled:a.value},"Register",8,C)],32))}};export{S as default};
