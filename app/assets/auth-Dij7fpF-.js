import{a}from"./api-Bys2i4Lb.js";import{r as s,s as n}from"./index-C0cmvDAF.js";let r=s(null);async function c(t,e){const o=await a("/login",{method:"POST",body:JSON.stringify({username:t,password:e})});n.login(o.access_token,o.expires_in)}async function l(t,e){return a("/register",{method:"POST",body:JSON.stringify({username:t,password:e})})}async function g(){await a("/logout",{method:"POST"}),n.logout(),r.value=null}async function f(){if(r.value)return r;try{const t=await a("/user",{method:"GET"});r.value=t}catch{throw new Error("Failed to fetch user data")}return r}export{c as a,f as g,g as l,l as r};
