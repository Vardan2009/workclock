import{s as r}from"./index-DjgyAvZy.js";const n="http://127.0.0.1:5000";async function i(s,e={}){const o={"Content-Type":"application/json",...e.headers||{}};r.state.accessToken&&(o.Authorization=`Bearer ${r.state.accessToken}`);const a=await fetch(`${n}${s}`,{...e,headers:o}),t=await a.json();if(t.error)throw new Error(t.error);if(a.status===401)throw r.logout(),new Error("Unauthorized");return t}export{i as a};
